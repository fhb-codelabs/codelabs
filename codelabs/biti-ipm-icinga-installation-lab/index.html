
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>BITI IPM Lab - Icinga Installation</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/claat-public/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14" ga4id=""></google-codelab-analytics>
  <google-codelab codelab-gaid=""
                  codelab-ga4id=""
                  id="biti-ipm-icinga-installation-lab"
                  title="BITI IPM Lab - Icinga Installation"
                  environment="web"
                  feedback-link="">
    
      <google-codelab-step label="Before You Begin" duration="0">
        <h2 class="checklist" is-upgraded>What You&#39;ll Learn</h2>
<p>In this codelab you will learn</p>
<ul>
<li>how to install Icinga2 on Debian</li>
<li>how to configure Icinga2 as a single node</li>
</ul>
<h2 is-upgraded>Where You Can Look Up</h2>
<p>The best source of documentation is the homepage of Icinga2. The latest documentation can be found <a href="https://icinga.com/docs/icinga-2/latest/doc/01-about/" target="_blank">here</a>.</p>
<h2 is-upgraded>What You&#39;ll need</h2>
<h3 is-upgraded>Guest operation system (Guest OS)</h3>
<p>This is the OS of the virtual machine. This will be Debian .</p>
<h3 is-upgraded>Administators privileges</h3>
<p>By default, administrator privileges are required on the Host OS to install additional software. Make sure that you have the required permissions.</p>
<p>For the Guest OS, you will create and manage your own users. These users will therefore be different from the Host&#39;s user administration.</p>
<h2 is-upgraded>Root privileges via sudo</h2>
<p>In this codelab you have to work with root privileges. Therefore, a few words of caution: double check whatever you type and make backups whenever necessary.</p>
<p>Working with root privileges is quite easy. Open a terminal (a shell) and enter the following commmand:</p>
<pre><code>sudo -s
</code></pre>
<p>Enter the password of the icinga user and voila:</p>
<pre><code>root@server:/home/icinga#
</code></pre>
<p>As soon as you are root via sudo, it is no longer necessary to precede the sudo command. Instead of <code>sudo ls -lisa /root/</code> you can also type <code>ls -lisa /root/</code> because you have root privileges already. However, all commands in this codelab will always start with <code>sudo</code> to remind you that you are working with root privileges.</p>


      </google-codelab-step>
    
      <google-codelab-step label="System update" duration="0">
        <h2 is-upgraded>Description</h2>
<p>Run the following commands to update your system package repositories and your system.</p>
<pre><code>sudo apt update
sudo apt upgrade
</code></pre>
<aside class="special"><p> When using the sudo command, you will be prompted for your password. </p>
</aside>
<p>Depending on the package upgrades, it is useful to restart the system here.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Icinga2 Core App" duration="0">
        <h2 is-upgraded>Core App</h2>
<p>Now that Icinga 2 repos are available, you can install Icinga core by running the command below:</p>
<pre><code>sudo apt install icinga2
</code></pre>
<p>During installation, the apt command displays the following information.</p>
<pre><code>--- more ---
enabling default icinga2 features
Enabling feature checker. Make sure to restart Icinga 2 for these changes to take effect.
Enabling feature notification. Make sure to restart Icinga 2 for these changes to take effect.
Enabling feature mainlog. Make sure to restart Icinga 2 for these changes to take effect.
--- more ---
</code></pre>
<aside class="special"><p> Please do not restart any Icinga2 service here. We will do this later.  </p>
</aside>
<p>On Debian, Icinga2 is started and activated during installation. You can check this by executing the command:</p>
<pre><code>systemctl status icinga2
</code></pre>
<p>Sample output:</p>
<pre><code>  icinga2.service - Icinga host/service/network monitoring system
     Loaded: loaded (/lib/systemd/system/icinga2.service; enabled; vendor preset: enabled)
     Active: active (running) since Wed 2021-10-16 22:05:17 CET; 35min ago
       Docs: https://icinga.com/docs/icinga2/latest/
    Process: 9826 ExecStartPre=/usr/lib/icinga2/prepare-dirs /usr/lib/icinga2/icinga2 (code=exited, status=0/SUCCESS)
   Main PID: 9831 (icinga2)
      Tasks: 18 (limit: 2324)
     Memory: 12.5M
        CPU: 3.207s
     CGroup: /system.slice/icinga2.service
             ├─9831 /usr/lib/x86_64-linux-gnu/icinga2/sbin/icinga2 --no-stack-rlimit daemon -e
             ├─9851 /usr/lib/x86_64-linux-gnu/icinga2/sbin/icinga2 --no-stack-rlimit daemon -e
             └─9856 /usr/lib/x86_64-linux-gnu/icinga2/sbin/icinga2 --no-stack-rlimit daemon -e

Oct 16 22:30:47 server icinga2[9851]: [2021-10-16 22:30:47 +0100] information/IdoMysqlConnection: Pending queries: 5 (Input: 3/s; Output: 3/s)
Oct 16 22:35:17 server icinga2[9851]: [2021-10-16 22:35:17 +0100] information/ConfigObject: Dumping program state to file &#39;/var/lib/icinga2/icinga2.state&#39;
Oct 16 22:35:37 server icinga2[9851]: [2021-10-16 22:35:37 +0100] information/WorkQueue: #6 (ApiListener, RelayQueue) items: 0, rate:  0/s (0/min 0/5min 0/15min);
Oct 16 22:35:37 server icinga2[9851]: [2021-10-16 22:35:37 +0100] information/WorkQueue: #7 (ApiListener, SyncQueue) items: 0, rate:  0/s (0/min 0/5min 0/15min);
Oct 16 22:35:47 server icinga2[9851]: [2021-10-16 22:35:47 +0100] information/IdoMysqlConnection: Pending queries: 0 (Input: 3/s; Output: 3/s)
Oct 16 22:39:07 server icinga2[9851]: [2021-10-16 22:39:07 +0100] information/IdoMysqlConnection: Pending queries: 11 (Input: 3/s; Output: 2/s)
Oct 16 22:40:17 server icinga2[9851]: [2021-10-16 22:40:17 +0100] information/ConfigObject: Dumping program state to file &#39;/var/lib/icinga2/icinga2.state&#39;
Oct 16 22:40:37 server icinga2[9851]: [2021-10-16 22:40:37 +0100] information/WorkQueue: #6 (ApiListener, RelayQueue) items: 0, rate:  0/s (0/min 0/5min 0/15min);
Oct 16 22:40:37 server icinga2[9851]: [2021-10-16 22:40:37 +0100] information/WorkQueue: #7 (ApiListener, SyncQueue) items: 0, rate:  0/s (0/min 0/5min 0/15min);
Oct 16 22:40:47 server icinga2[9851]: [2021-10-16 22:40:47 +0100] information/IdoMysqlConnection: Pending queries: 0 (Input: 3/s; Output: 4/s)
</code></pre>
<p>Check if the status Active is in <strong>running</strong> mode which indicates that the service is up and running.</p>
<h2 is-upgraded>Monitoring Plugins</h2>
<p>Icinga 2 also requires additional monitoring plugins to check external services. Execute the command below to install the plugins:</p>
<pre><code>sudo apt install monitoring-plugins
</code></pre>
<aside class="special"><p> The command above will install a lot of Nagios-plugins. Remember the origin of Icinga. </p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Icinga2 Backend" duration="0">
        <h2 is-upgraded>Database installation</h2>
<p>Icinga 2 requires a database as backend. In this codelab, we will install and use MariaDB server. Let&#39;s begin:</p>
<pre><code>sudo apt update
sudo apt install mariadb-server mariadb-client
</code></pre>
<p>After installation, check the status of the MariaDB service with the following command:</p>
<pre><code>sudo systemctl status mariadb

</code></pre>
<p>Sample output</p>
<pre><code>root@server:~# systemctl status mariadb
● mariadb.service - MariaDB 10.6.4 database server
     Loaded: loaded (/lib/systemd/system/mariadb.service; enabled; vendor preset: enabled)
    Drop-In: /etc/systemd/system/mariadb.service.d
             └─migrated-from-my.cnf-settings.conf
     Active: active (running) since Sat 2021-10-16 21:43:23 CEST; 34s ago
       Docs: man:mariadbd(8)
             https://mariadb.com/kb/en/library/systemd/
    Process: 25828 ExecStartPre=/usr/bin/install -m 755 -o mysql -g root -d /var/run/mysqld (code=&gt;
    Process: 25829 ExecStartPre=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (code&gt;
    Process: 25832 ExecStartPre=/bin/sh -c [ ! -e /usr/bin/galera_recovery ] &amp;&amp; VAR= ||   VAR=`cd &gt;
    Process: 25895 ExecStartPost=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (cod&gt;
    Process: 25897 ExecStartPost=/etc/mysql/debian-start (code=exited, status=0/SUCCESS)
   Main PID: 25881 (mariadbd)
     Status: &#34;Taking your SQL requests now...&#34;
      Tasks: 12 (limit: 4658)
     Memory: 72.0M
        CPU: 1.103s
     CGroup: /system.slice/mariadb.service
             └─25881 /usr/sbin/mariadbd

Oct 16 22:43:29 server /etc/mysql/debian-start[25902]: Phase 6/7: Checking and upgrading tables
Oct 16 22:43:29 server /etc/mysql/debian-start[25902]: Processing databases
Oct 16 22:43:29 server /etc/mysql/debian-start[25902]: information_schema
Oct 16 22:43:29 server /etc/mysql/debian-start[25902]: performance_schema
Oct 16 22:43:29 server /etc/mysql/debian-start[25902]: sys
Oct 16 22:43:29 server /etc/mysql/debian-start[25902]: sys.sys_config                             &gt;
Oct 16 22:43:29 server /etc/mysql/debian-start[25902]: Phase 7/7: Running &#39;FLUSH PRIVILEGES&#39;
Oct 16 22:43:29 server /etc/mysql/debian-start[25902]: OK
Oct 16 22:43:29 server /etc/mysql/debian-start[26501]: Checking for insecure root accounts.
</code></pre>
<p>Please check the follwing lines:</p>
<pre><code>Loaded: loaded (/lib/systemd/system/mariadb.service; enabled; vendor preset: enabled)
...
Active: active (running) since Sat 2021-10-16 21:43:23 CEST; 34s ago
</code></pre>
<p>If MariaDB is not up and running, start MariaDB manually and enable the service with the following commands:</p>
<pre><code>sudo systemctl start mariadb
sudo systemctl enable mariadb
</code></pre>
<p>Afterwards, check the status of the MariaDB service again:</p>
<pre><code>sudo systemctl status mariadb

</code></pre>
<p>Contratulations, you have successfully installed MariaDB 10.5 on Debian. Great job!</p>
<h2 is-upgraded>IDO modules for MariaDB/MySQL</h2>
<p>The package <code>icinga2-ido-mysql</code> provides Icinga Data Output (IDO) modules for MySQL and can be installed by running the command below:</p>
<pre><code>sudo apt install icinga2-ido-mysql
</code></pre>
<p>During installation, you will be prompted to specify whether Icinga 2 should use MySQL. Select <code>Yes</code> to enable this feature. <img alt="Windows Registry" src="img/30a9a7d2405ef3e9.png"></p>
<p>Next, you will be asked to specify whether database should be configured with dbconfig-common. Select <code>Yes</code> to enable dbconfig-common. <img alt="Windows Registry" src="img/497d42626ce95356.png"></p>
<aside class="special"><p> Dbconfig-common is controversially discussed by the community. This framework presents a guideline for managing various databases used by applications in Debian packages. However, the community doesn´t like to be patronized. <br><br> As a result, most database administrators simply don&#39;t like the dbconfig-common framework.  <br><br> However, we choose this option because we don&#39;t want to administrate a database. Instead, we just want to use it for demonstration purpose only. </p>
</aside>
<p>Next, you will be asked to provide MySQL application password for icinga2-ido-mysql as shown in the following screen. To keep things easy, use <code>icinga2</code> as password.</p>
<aside class="warning"><p> Warning:  <br> Under no circumstances do not use this password in other systems or environments, especially not in a production system. We use this password to ensure a smooth installation process during the lecture and to eliminate potential sources of error. </p>
</aside>
<p class="image-container"><img alt="Icinga2 Installation" src="img/845c56b52b953161.png"></p>
<p>You have to repeat the password. Type <code>icinga2</code> again and hit <strong>ENTER</strong>.</p>
<p class="image-container"><img alt="Icinga2 Installation" src="img/79b656c29e380576.png"></p>
<p>Finally, you can check wether <code>ido-mysql</code> feature is enabled. Run the command:</p>
<pre><code>sudo icinga2 feature list
</code></pre>
<p>The command above lists both disabled and enabled features:</p>
<pre><code>Disabled features: api command compatlog debuglog elasticsearch gelf graphite icingadb ido-mysql influxdb livestatus opentsdb perfdata statusdata syslog

Enabled features: checker mainlog notification
</code></pre>
<p>Typically, only the <code>checker mainlog notification</code> functions are activated, while the <code>ido-mysql</code> function is deactivated.</p>
<p>Enable the feature <code>ido-mysql</code> with the following command:</p>
<pre><code>sudo icinga2 feature enable ido-mysql
</code></pre>
<p>Check the status of the <code>ido-mysql</code> feature by runnning the following command again:</p>
<pre><code>sudo icinga2 feature list
</code></pre>
<p>The feature <code>ido-mysql</code> is now activated:</p>
<pre><code>Disabled features: api command compatlog debuglog elasticsearch gelf graphite icingadb influxdb livestatus opentsdb perfdata statusdata syslog

Enabled features: checker ido-mysql mainlog notification
</code></pre>
<p>Great, everything done correctly. Now restart Icinga 2 and check its status.</p>
<pre><code>sudo systemctl restart icinga2
sudo systemctl status icinga2
</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="IDO Configfile" duration="0">
        <p>Next, open Icinga 2 MySQL IDO configuration file and set the Icinga2 database connection details.</p>
<pre><code>sudo nano /etc/icinga2/features-available/ido-mysql.conf
</code></pre>
<p>The configuration <strong>must</strong> look like this:</p>
<pre><code>/**
 * The db_ido_mysql library implements IDO functionality
 * for MySQL.
 */

library &#34;db_ido_mysql&#34;

object IdoMysqlConnection &#34;ido-mysql&#34; {
  user = &#34;icinga2&#34;,
  password = &#34;icinga2&#34;,
  host = &#34;localhost&#34;,
  database = &#34;icinga2&#34;
}
</code></pre>
<p>Double-check the content of this file. Enter the connection details of the Icinga2 database manually if required.</p>
<p>Exit the editor with <code>CTRL-X</code>. If necessary, confirm with &#34;y&#34; if you have changed something in the configuration file.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Icinga2 Restart" duration="0">
        <h2 is-upgraded>One-liner</h2>
<p>If you have modified the file <code>/etc/icinga2/features-available/ido-mysql.conf</code> in the previous section, restart the Icinga2 service and check its status again:</p>
<pre><code>sudo systemctl restart icinga2
sudo systemctl status icinga2
</code></pre>
<aside class="special"><p> It is quite common that you have to restart icinga2 several times. The reason for this is that Icinga2 ignores updated configs if the service is not restarted. </p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Icinga Web2 Frontend" duration="0">
        <h2 is-upgraded>Installation</h2>
<p>Icinga Web 2 requires Icinga 2 with IDO configured as well as some additional requirements such as a web server, PHP and some extensions. You must therefore install these requirements first before configuring the front end. Let&#39;s start with the core frontend:</p>
<pre><code>sudo apt install icingaweb2
</code></pre>
<h2 is-upgraded>Authentication Token</h2>
<p>Icinga web setup requires authentication with a token. Generate the auth token:</p>
<pre><code>sudo icingacli setup token create
</code></pre>
<aside class="special"><p> An authentication token (auth token) is a computer-generated code that verifies a user&#39;s identity. Auth tokens are used to access websites, applications, services, and application programming interfaces (APIs). They allow users (or services) to access these resources without having to re-enter their login credentials each time they visit. </p>
</aside>
<p>Sample output:</p>
<pre><code>The newly generated setup token is: **7fb3fb0cbae252b3**
</code></pre>
<p>No need to remember the token. Use the following command to display the token on screen:</p>
<pre><code>sudo icingacli setup token show
</code></pre>
<aside class="special"><p> Just a reminder: You will need the token for the frontend wizard. </p>
</aside>
<p>Next, make sure that the Icinga Web 2 system group exists. Also make sure that the web server user <code>www-data</code> is a member of this group.</p>
<pre><code>sudo id www-data
</code></pre>
<p>Sample output:</p>
<pre><code>uid=33(www-data) gid=33(www-data) groups=33(www-data),117(icingaweb2)
</code></pre>
<h2 is-upgraded>Restart Apache Web Server</h2>
<p>Restart the web server to apply all changes:</p>
<pre><code>sudo systemctl restart apache2
sudo systemctl status apache2
</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Icinga Web2 Backend" duration="0">
        <h2 is-upgraded>Database installation</h2>
<p>Sorry but true: you have to create another database and a db user for Icinga web 2. But this time, you will do this manually.</p>
<p>First, log in to MariaDB shell with the following command:</p>
<pre><code>sudo mysql -u root -p
</code></pre>
<p>Provide your root password (or simple press enter) and create a database and a user for Icinga web 2 with the following command:</p>
<p>Run the following command to get a list of databases installed.</p>
<pre><code>show databases;
</code></pre>
<p>Sample output:</p>
<pre><code>Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 43
Server version: 10.11.4-MariaDB-1~deb12u1 Debian 12

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.

MariaDB [(none)]&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| icinga2            |
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
5 rows in set (0.001 sec)

MariaDB [(none)]&gt;
</code></pre>
<p>Notice the database named <code>icinga2</code>. This is the database of the Icinga2 core system. Now, we need an additional database for the Icinga Web2 Frontend.</p>
<aside class="special"><p> Icinga2 needs two different databases, one for the Core system and another one for the Web Frontend. </p>
</aside>
<p>Now, run the following command to create the new database for Icinga Web2:</p>
<pre><code>create database icingaweb2;
</code></pre>
<p>MariaDB/MySQL answers with:</p>
<pre><code>Query OK, 1 row affected (0.001 sec)
</code></pre>
<p>Next, create the Icinga 2 database user. Remember, we want to keep things easy.</p>
<pre><code>grant all on icingaweb2.* to icingaweb2@localhost identified by &#39;icingaweb2&#39;;
</code></pre>
<aside class="special"><p> Check the documentation of MariaDB/MySQL for the optional IDENTIFIED BY clause. </p>
</aside>
<p>MariaDB/MySQL answers with:</p>
<pre><code>Query OK, o row affected (0.001 sec)
</code></pre>
<aside class="warning"><p> Warning:  <br> Under no circumstances do not use this password in other systems or environments, especially not in a production system. We use this password to ensure a smooth installation process during the lecture and to eliminate potential sources of error. </p>
</aside>
<p>Just be be sure: Execute the following command and check whether the new database exists:</p>
<pre><code>show databases;
</code></pre>
<p>Sample output:</p>
<pre><code>+--------------------+
| Database           |
+--------------------+
| icinga2            |
| icingaweb2         |
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
</code></pre>
<p>Next, check if the newly created user exists:</p>
<pre><code>select user from mysql.user;
</code></pre>
<p>Sample output:</p>
<pre><code>+-------------+
| User        |
+-------------+
| icinga2     |
| icingaweb2  |
| mariadb.sys |
| mysql       |
| root        |
+-------------+
</code></pre>
<p>Everything okay? Good. Now reload privileges tables with the following commands:</p>
<pre><code>flush privileges;
quit
</code></pre>
<aside class="warning"><p> Check the documentation of MariaDB/MySQL for the FLUSH statement. </p>
</aside>
<p>That&#39;s it. Mission accomplished!</p>


      </google-codelab-step>
    
      <google-codelab-step label="Icinga Web2 Frontend" duration="0">
        <h2 is-upgraded>Setup Wizard</h2>
<aside class="special"><p> The Icinga Web 2 page can be opened either inside the GuestOS or outside the HostOS with network bridge enabled. It&#39;s recommended to open the Icinga Web 2 page from the HostOS. </p>
</aside>
<p>To access the setup wizard, use the following address:</p>
<pre><code>http://&lt;icinga-server-ip&gt;/icingaweb2/
</code></pre>
<p>The Welcome wizard shows up.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/de213d41d70cf618.png"></p>
<p>Enter your authentication token and click <code>Next</code> to proceed. If you do not know the authentication token, run the following command again:</p>
<pre><code>sudo icingacli setup token show
</code></pre>
<p>On the next page, you can select the Icinga modules you want to activate.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/dcbce108c6b9646b.png"></p>
<p>Ensure that Monitoring module is activated only. If true, click on <code>Next</code>.</p>
<p>The following page verifies wether the required PHP extensions meet the requirements. In case of missing PHP extensions, install them and proceed with setup.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/c5359b0c83970995.png"></p>
<p>As you can see, only the PHP extensions for PostgreSQL are missing. This is fine, as we use MySQL/MariaDB. All otherPHP modules are available. Great!</p>
<p>Click on <code>Next</code> to proceed.</p>
<p>Next, you need to configure the Icinga Web 2 authentication method. Since this Codelab uses local authentication only, select <code>Database</code>.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/c43c2d4e015ca01f.png"></p>
<p>Click on <code>Next</code> to proceed.</p>
<p>Next, configure database authentication details as described below.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/c637f0d5bb1dce3e.png"></p>
<p>Where</p>
<ul>
<li><code>Database Name</code> = icingaweb2</li>
<li><code>Usermame</code> = icingaweb2</li>
<li><code>Password</code> = icingaweb2</li>
</ul>
<aside class="special"><p> Don&#39;t touch Resource Name, Database Type or Host. </p>
</aside>
<p>Click on <code>Validate Configuration</code> to test the db connectivity. You should get a positive feedback (configuration bas been successfully validated). If errors occur, check on typos.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/378077ac3f64f3f.png"></p>
<p>Click on <code>Next</code> when done.</p>
<p>Next, set up the Icinga web 2 authentication backend name.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/a548632b44e888ed.png"></p>
<p>Where</p>
<ul>
<li><code>Backend Name</code> = icingaweb2</li>
</ul>
<p>Click on <code>Next</code> when backend name is correct.</p>
<p>Next, set up the Icinga Web 2 administrative user.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/59a07a807e53467d.png"></p>
<p>Where</p>
<ul>
<li><code>Username</code> = icinga2</li>
<li><code>Password</code> = icinga2</li>
<li><code>Repeat Password</code> = icinga2</li>
</ul>
<aside class="warning"><p> Warning:  <br> Under no circumstances do not use this password in other systems or environments, especially not in a production system. We use this password to ensure a smooth installation process during the lecture and to eliminate potential sources of error. </p>
</aside>
<p>Click on <code>Next</code> when done.</p>
<p>Next, configure application and logging related options.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/63f6f4db05f321ef.png"></p>
<p>Where</p>
<ul>
<li><code>Show Stacktraces</code> = yes</li>
<li><code>Show Application State Messages</code> = yes</li>
<li><code>User Preference Storage Type</code> = Database</li>
<li><code>Logging Type</code> = Syslog</li>
<li><code>Logging Level</code> = Error</li>
<li><code>Application Prefix</code> = icingaweb2</li>
<li><code>Facility</code> = user</li>
</ul>
<p>Click on <code>Next</code> when done.</p>
<p>Next, the Icinga Web 2 configuration summary shows up.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/4043a6d86f04f1de.png"></p>
<p>Double-check the summary. Click on <code>Next</code> when done.</p>
<p>On the next screen, another configuration section for Icinga Web 2 monitoring module welcomes you.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/416d8d96c9f6190d.png"></p>
<p>Click on <code>Next</code> when done.</p>
<p>Next, fill out the connection details to access the IDO database of the monitoring environment.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/8423261f861b4b78.png"></p>
<p>Where,</p>
<ul>
<li><code>Database Name</code> = icinga2</li>
<li><code>Username</code> = icinga2</li>
<li><code>Password</code> = icinga2</li>
</ul>
<p>You should (hopefully) get a positive feedback.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/d4a4a495080dacae.png"></p>
<p>If errors occur, check on typos.</p>
<p>Click on <code>Next</code> when done.</p>
<p>Next, define how you want to send commands to you monitoring environment. In this codelab, we are setting up <code>Local Command File</code> transport type.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/1aaafc31c7c7f8e0.png"></p>
<p>Where,</p>
<ul>
<li><code>Transport name</code> = icinga2</li>
<li><code>Transport type</code> = Local Command File</li>
<li><code>Command File</code> = /var/run/icinga2/cmd/icinga2.cmd</li>
</ul>
<p>Click on <code>Next</code> when done.</p>
<p>Next, fill out the settings to protect your monitoring environment against prying eyes.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/2f8aabf12a69e1.png"></p>
<p>Where,</p>
<ul>
<li><code>Protected Custom Variables</code> = *pw*,*pass*,community</li>
</ul>
<p>Click on <code>Next</code> when done.</p>
<p>Finally, review the configuration summary and click <code>Finish</code> to complete the installation.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/783083bc14a304e0.png"></p>
<p>Congratulations, you have installed and set up Icinga2 successfully. Click on <code>Login to Icinga Web 2</code></p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/d9f7d992b585898d.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Icinga Web2 Login" duration="0">
        <p>Enter the username and password from the previous section.</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/2a92aae719462880.png"></p>
<p>If URL is unknown, try this:</p>
<pre><code>http://&lt;icinga-server-ip&gt;/icingaweb2/
</code></pre>
<aside class="warning"><p> Forgot user and password? Go back to the Icinga Web2 Frontend section . </p>
</aside>
<p>After logging in, Icinga2 will greet you with one or more critical messages:</p>
<p class="image-container"><img alt="Icinga Web 2 Wizard" src="img/563767a5fe82baea.png"></p>
<p>Congratulations! You have successfully installed Icinga2 and Icingaweb2 on your GuestOS. You can now browse through the sidebar menu to discover the features of Icinga2. Familiarize yourself with the menu navigation.</p>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/claat-public/native-shim.js"></script>
  <script src="https://storage.googleapis.com/claat-public/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/claat-public/prettify.js"></script>
  <script src="https://storage.googleapis.com/claat-public/codelab-elements.js"></script>
  <script src="//support.google.com/inapp/api.js"></script>

</body>
</html>
