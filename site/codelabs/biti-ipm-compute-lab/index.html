
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>BITI IPM Lab 1 - How to monitor CPU Usage</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid=""
                  id="biti-ipm-compute-lab"
                  title="BITI IPM Lab 1 - How to monitor CPU Usage"
                  environment="web"
                  feedback-link="">
    
      <google-codelab-step label="Before You Begin" duration="0">
        <h2 class="checklist" is-upgraded>What You&#39;ll Learn</h2>
<p>Every computer system benefits from proper administration and monitoring. A computer operates more quickly if few CPU-intensive processes are running at the same time. Consequently, it makes sense that administrators check the CPU usage on a regular basis to identify programs that unnecessarly burden the system.</p>
<p>There are plenty of command line utilities created for this purpose. This codelab will introduce you to some of the most helpful applications, how to install and use them.</p>
<h2 is-upgraded>Where You Can Look Up</h2>
<p>The <strong>man</strong> is a short term for manual page and acts as an interface to view the reference manual of a command.</p>
<p>Syntax of man:</p>
<pre><code>man [option(s)] keyword(s)
</code></pre>
<p>For example, if you want top find out more about the command <strong>ps</strong> and how to use it, just open a shell and type:</p>
<pre><code>man ps
</code></pre>
<p>This command will display all the information about <strong>ps</strong>.</p>
<pre><code>PS(1)                            User Commands                           PS(1)

NAME
       ps - report a snapshot of the current processes.

SYNOPSIS
       ps [options]

DESCRIPTION
       ps displays information about a selection of the active processes.  If
       you want a repetitive update of the selection and the displayed
       information, use top(1) instead.
...
...
</code></pre>
<h2 is-upgraded>What You&#39;ll need</h2>
<h3 is-upgraded>Host operating system (Host OS)</h3>
<p>This is the OS of the physical computer on which Oracle VM VirtualBox is installed.</p>
<p>This can be Microsoft Windows, Linux, or Mac OS host. Check the Documentation on the <a href="https://www.virtualbox.org/" target="_blank">official web site</a> for more details.</p>
<h3 is-upgraded>Guest operation system (Guest OS)</h3>
<p>This is the OS of the virtual machine. This will be Debian 11 (Bullseye).</p>
<h3 is-upgraded>Administators privileges</h3>
<p>By default, administrator privileges are required on the Host OS to install additional software. Make sure that you have the required permissions.</p>
<p>For the Guest OS, you will create and manage your own users. These users will therefore be different from the Host&#39;s user administration.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Get set up" duration="0">
        <p>For this codelab, it is recommanded to use VirtualBox and Debian 11 (Bullseye).</p>
<h2 is-upgraded>VirtualBox.org</h2>
<ul>
<li>Download VirtalBox (packaged for your Host-OS) from the <a href="https://www.virtualbox.org/" target="_blank">official web site</a>.</li>
<li>Install it on your host. For Windows: make sure to disable all Hyper-V features first.</li>
<li>Download the VirtualBox Extension Pack from the <a href="https://www.virtualbox.org/" target="_blank">official web site</a>.</li>
<li>Install the VirtualBox Extension Pack via File –&gt; Preferences –&gt; Extensions. <img alt="VirtualBox Extension" src="img/50bb6b4f41e22ef1.png">.</li>
<li>Setup a Virtual Machine for Debian installation.</li>
<li>Ensure that the virtual network is attached to a Bridge Adapter (Open Settings -&gt; Network -&gt; Adapter 1 -&gt; Attached to Bridge Adapter). <img alt="VirtualBox Extension" src="img/4bd5337522d1f684.png"></li>
</ul>
<h2 is-upgraded>Debian 11 Bullseye</h2>
<ul>
<li>Download Debian 11 Bullseye from from the <a href="https://www.debian.org/" target="_blank">official web site</a>.</li>
<li>Ask your instructur for non-privileged user and password to ensure smooth administration.</li>
<li>Start the virtual Machine and install Debian.</li>
<li>Keep the installation simple.</li>
<li>Set up the given user and password.</li>
<li>After installation has finished, reboot the VM, log in with user and password, open a shell and fire a ping to a server of your choice. If you get a response, then you have done a good job. Congratulations!</li>
<li>Good luck for the next steps!</li>
</ul>
<h2 is-upgraded>Root privileges for Debian</h2>
<p>Installing additional software from Debian repositories requires root privileges. There are three ways how to get root access.</p>
<ol type="1">
<li>Log in as root:</li>
</ol>
<pre><code>Debian GNU/Linux 11 icinga tty1
icinga login: _
</code></pre>
<p>During the installation process, you were promted to set the root password. However, most modern Linux distributions disable the login for the root user due to security reason. If the login does not work, continue with the next step.</p>
<ol type="1" start="2">
<li>When logged in as non-privileged user, open the shell and run the following command:</li>
</ol>
<pre><code>su - 
</code></pre>
<p>Typically, you will be prompted for the root password. If unknown, ask your instructor for the password and run the above command again.</p>
<ol type="1" start="3">
<li>When you are logged in as non-privileged user and if you are a member of the <strong>sudo</strong> group, then open the shell and run the following command:</li>
</ol>
<pre><code>sudo -s
</code></pre>
<p>Normally, you will be asked for the user (not root) password. If you don&#39;t know it, ask your instructor for the password and run the above command again. If you have set up a different password, as recommended, and can no longer log into the system, then you will probably need to restart the installation.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Software installation" duration="0">
        <p>In this codelab, you will need to install software packages.</p>
<h3 is-upgraded>Debian</h3>
<ol type="1">
<li>Log in as root</li>
<li>Run the following command to update the local package lists.</li>
</ol>
<pre><code>apt update
</code></pre>
<ol type="1" start="3">
<li>Install the software with the following command:</li>
</ol>
<pre><code>apt install &lt;package name&gt;
</code></pre>
<p>If prompted, confirm the installation of software packages with Y(es)</p>
<h3 is-upgraded>Windows</h3>
<p>Follow the instruction of the downloaded software.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Display CPU Information" duration="0">
        <h2 is-upgraded>nproc</h2>
<p>The <strong>nproc</strong> command displays the number of available processing units. The command is a built-in command in a Linux system.</p>
<p>Open a shell and run <strong>nproc</strong> with the following option:</p>
<pre><code>nproc --all
</code></pre>
<p>The output should look like this:</p>
<pre><code>4
</code></pre>
<aside class="special"><p> Without the --all flag, nproc will display the number of processing units available to the current process.<br> Use the --help flag for more information. </p>
</aside>
<h2 is-upgraded>lscpu</h2>
<p>On most Linux distributions, you can also use the <strong>lscpu</strong> command. It displays not only the number of processors but also the architecture, model name, speed, much more.</p>
<p>Open a shell and run the following command:</p>
<pre><code>lscpu
</code></pre>
<p>The output will probably be very different from yours:</p>
<pre><code>Architecture:        x86_64
CPU op-mode(s):      32-bit, 64-bit
Byte Order:          Little Endian
Address sizes:       39 bits physical, 48 bits virtual
CPU(s):              4
On-line CPU(s) list: 0-3
Thread(s) per core:  2
Core(s) per socket:  2
Socket(s):           1
NUMA node(s):        1
Vendor ID:           GenuineIntel
CPU family:          6
Model:               60
Model name:          Intel(R) Core(TM) i3-4160T CPU @ 3.10GHz
Stepping:            3
CPU MHz:             1696.113
CPU max MHz:         3100.0000
CPU min MHz:         800.0000
BogoMIPS:            6185.65
Virtualization:      VT-x
L1d cache:           32K
L1i cache:           32K
L2 cache:            256K
L3 cache:            3072K
NUMA node0 CPU(s):   0-3
Flags:               fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc cpuid aperfmperf pni pclmulqdq dtes64 monitor ds_cpl vmx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid sse4_1 sse4_2 movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm cpuid_fault epb invpcid_single pti ssbd ibrs ibpb stibp tpr_shadow vnmi flexpriority ept vpid ept_ad fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid xsaveopt dtherm arat pln pts md_clear flush_l1d
</code></pre>
<h2 is-upgraded>cpuinfo</h2>
<p>All Linux distributions allows you to run <strong>cat /proc/cpuinfo</strong>. This file contains details about the processors installed. Note that /proc is a pseudo-filesystem, it is used as an interface to kernel data structures.</p>
<p>Open a shell and run the following command:</p>
<pre><code>cat /proc/cpuinfo
</code></pre>
<p>Information is grouped per logical processor. That means that every processor is listed separately and various details about the CPU are included in the description.</p>
<pre><code>processor	: 0
vendor_id	: GenuineIntel
cpu family	: 6
model		: 60
model name	: Intel(R) Core(TM) i3-4160T CPU @ 3.10GHz
stepping	: 3
microcode	: 0x28
cpu MHz		: 948.796
cache size	: 3072 KB
physical id	: 0
siblings	: 4
core id		: 0
cpu cores	: 2
apicid		: 0
initial apicid	: 0
fpu		: yes
fpu_exception	: yes
cpuid level	: 13
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc cpuid aperfmperf pni pclmulqdq dtes64 monitor ds_cpl vmx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid sse4_1 sse4_2 movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm cpuid_fault epb invpcid_single pti ssbd ibrs ibpb stibp tpr_shadow vnmi flexpriority ept vpid ept_ad fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid xsaveopt dtherm arat pln pts md_clear flush_l1d
bugs		: cpu_meltdown spectre_v1 spectre_v2 spec_store_bypass l1tf mds swapgs itlb_multihit srbds
bogomips	: 6185.65
clflush size	: 64
cache_alignment	: 64
address sizes	: 39 bits physical, 48 bits virtual
power management:

processor	: 1
vendor_id	: GenuineIntel
cpu family	: 6
model		: 60
model name	: Intel(R) Core(TM) i3-4160T CPU @ 3.10GHz
stepping	: 3
microcode	: 0x28
cpu MHz		: 1104.746
cache size	: 3072 KB
physical id	: 0
siblings	: 4
core id		: 1
cpu cores	: 2
apicid		: 2
initial apicid	: 2
fpu		: yes
fpu_exception	: yes
cpuid level	: 13
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc cpuid aperfmperf pni pclmulqdq dtes64 monitor ds_cpl vmx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid sse4_1 sse4_2 movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm cpuid_fault epb invpcid_single pti ssbd ibrs ibpb stibp tpr_shadow vnmi flexpriority ept vpid ept_ad fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid xsaveopt dtherm arat pln pts md_clear flush_l1d
bugs		: cpu_meltdown spectre_v1 spectre_v2 spec_store_bypass l1tf mds swapgs itlb_multihit srbds
bogomips	: 6185.65
clflush size	: 64
cache_alignment	: 64
address sizes	: 39 bits physical, 48 bits virtual
power management:

processor	: 2
vendor_id	: GenuineIntel
cpu family	: 6
model		: 60
model name	: Intel(R) Core(TM) i3-4160T CPU @ 3.10GHz
stepping	: 3
microcode	: 0x28
cpu MHz		: 1171.670
cache size	: 3072 KB
physical id	: 0
siblings	: 4
core id		: 0
cpu cores	: 2
apicid		: 1
initial apicid	: 1
fpu		: yes
fpu_exception	: yes
cpuid level	: 13
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc cpuid aperfmperf pni pclmulqdq dtes64 monitor ds_cpl vmx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid sse4_1 sse4_2 movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm cpuid_fault epb invpcid_single pti ssbd ibrs ibpb stibp tpr_shadow vnmi flexpriority ept vpid ept_ad fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid xsaveopt dtherm arat pln pts md_clear flush_l1d
bugs		: cpu_meltdown spectre_v1 spectre_v2 spec_store_bypass l1tf mds swapgs itlb_multihit srbds
bogomips	: 6185.65
clflush size	: 64
cache_alignment	: 64
address sizes	: 39 bits physical, 48 bits virtual
power management:

processor	: 3
vendor_id	: GenuineIntel
cpu family	: 6
model		: 60
model name	: Intel(R) Core(TM) i3-4160T CPU @ 3.10GHz
stepping	: 3
microcode	: 0x28
cpu MHz		: 1125.178
cache size	: 3072 KB
physical id	: 0
siblings	: 4
core id		: 1
cpu cores	: 2
apicid		: 3
initial apicid	: 3
fpu		: yes
fpu_exception	: yes
cpuid level	: 13
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc cpuid aperfmperf pni pclmulqdq dtes64 monitor ds_cpl vmx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid sse4_1 sse4_2 movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm cpuid_fault epb invpcid_single pti ssbd ibrs ibpb stibp tpr_shadow vnmi flexpriority ept vpid ept_ad fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid xsaveopt dtherm arat pln pts md_clear flush_l1d
bugs		: cpu_meltdown spectre_v1 spectre_v2 spec_store_bypass l1tf mds swapgs itlb_multihit srbds
bogomips	: 6185.65
clflush size	: 64
cache_alignment	: 64
address sizes	: 39 bits physical, 48 bits virtual
power management:
</code></pre>
<aside class="special"><p> Consult the documentation and man-pages for more details. Try to identify keywords and details of the CPU.  </p>
</aside>
<p>To count the number of processing units use grep command.</p>
<pre><code>cat /proc/cpuinfo | grep processor
</code></pre>
<pre><code>processor	: 0
processor	: 1
processor	: 2
processor	: 3
</code></pre>
<aside class="special"><p> The number of processors shown by /proc/cpuinfo might be different from the actual number of cores on the processor. For example a processor with 4 cores and hyperthreading would be reported as a processor with 8 cores. </p>
</aside>
<h2 is-upgraded>Windows Registry</h2>
<ul>
<li>Open the Windows Registry Editor</li>
<li>Browse to the Windows Registry Key named <strong>Computer\HKEY_LOCAL_MACHINE\HARDWARE\DESCRIPTION\System\CentralProcessor</strong></li>
<li>Click on one of the subkeys to get information about the CPU (here 0).</li>
</ul>
<p class="image-container"><img alt="Windows Registry" src="img/dcb8ec573359a290.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Monitor the CPU on Linux" duration="0">
        <h2 is-upgraded>uptime</h2>
<p>The command <strong>uptime</strong> shows the basic information. The Linux tool requires few system resources only and can be helpful when a system is responding slow.</p>
<p>Open a shell  and run the command as follows:</p>
<pre><code>uptime
</code></pre>
<p>The output may look like this:</p>
<pre><code>17:58:21 up 1 day, 22:38,  1 user,  load average: 0.54, 0.51, 0.69
</code></pre>
<p>The command shows :</p>
<ul>
<li>the system time at the moment the command was run (here: 5.58pm)</li>
<li>how long the server had been running (here: 1 day)</li>
<li>how many connections users had to the machine (here: 1 user)</li>
<li>the CPU load average for the past one, five, and fifteen minutes (here: 0.54, 0.51, 0.69)</li>
</ul>
<aside class="special"><p> Consult your documentation about the CPU load average, its meaning and how to interpret the numbers. </p>
</aside>
<h2 is-upgraded>top</h2>
<p>One of the most common Linux tools for checking the CPU utilization is <strong>top</strong>. <br><br> Like <strong>uptime</strong>, the command <strong>top</strong> displays the CPU load averages. In addition, the command provides real-time CPU usage information as well as other performance metrics. Furthermore, top stays in the foreground and refreshes at regular intervals.</p>
<p>Run the <strong>top</strong> command as follows:</p>
<pre><code>top
</code></pre>
<p>The output will probably be very different from yours: <img alt="top" src="img/6a4f08958882e626.png"></p>
<p>The first five lines (also called the Header Block) provide a summary about the processes on the server. The Header Block is followed by a table  (the Process Table) with information about each individual process.</p>
<aside class="special"><p> Consult the man-pages for more details about top, about the Header Block and the Process Table. Run your own research about the output and how to interpret it. </p>
</aside>
<h2 is-upgraded>htop</h2>
<p>This tool is another interactive real-time process monitoring application for Linux. It has numerous nice user-friendly features which are not availble under the <strong>top</strong> command.</p>
<p>Unfortunately, the program is not installed by default. Run the following command to install <strong>htop</strong> with the privileges of the root account:</p>
<pre><code>apt update; apt install htop
</code></pre>
<aside class="special"><p> If errors occur due to lack of root privilegues, check the section Prerequisites for more details.  </p>
</aside>
<p>After successful installation, run the <strong>htop</strong> command as follows:</p>
<pre><code>htop
</code></pre>
<p>The output will probably be very different from yours: <img alt="htop" src="img/5cf1322a234e05c5.png"></p>
<p>The top section is more easier to read and the bottom section is better organized.</p>
<aside class="special"><p> Consult the man-pages for more details about htop. Run your own research about the output and how to interpret it. </p>
</aside>
<h2 is-upgraded>mpstat</h2>
<p>The tool <strong>mpstat</strong> is a Linux command that is used to report processor related statistics. It displays the statistics of the CPU usage of the system and information about CPU utilization. It initializes the first processor with CPU 0, the second one with CPU 1, and so on.</p>
<p>The tool <strong>mpstat</strong> is part of the software package <strong>sysstat</strong>. Like <strong>htop</strong>, the program is not installed by default. Run the following command to install the <strong>systat</strong> package with the privileges of the root account:</p>
<pre><code>apt update; apt install sysstat
</code></pre>
<aside class="special"><p> If errors occur, execute the command **su -** first before running the installation process. You will be prompted for the root password. Ask your instructor for the password and run the above command again.  </p>
</aside>
<p>After successful installation, run the <strong>mpstat</strong> command as follows:</p>
<pre><code>mpstat
</code></pre>
<p>The output will probably be very different from yours:</p>
<pre><code>Linux 5.10.0-8-amd64 (debian)   07/21/2021      _x86_64_        (2 CPU)

10:13:59 AM  CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
10:13:59 AM  all    7.67    0.06    1.82    0.46    0.00    0.21    0.00    0.00    0.00   89.77
</code></pre>
<p>Next, to display processor numbers to all CPUs, run the command with the following flags:</p>
<pre><code>mpstat -P ALL
</code></pre>
<p>Again, the output will probably be very different from yours:</p>
<pre><code>Linux 5.10.0-8-amd64 (debian)   07/21/2021      _x86_64_        (2 CPU)

10:15:43 AM  CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
10:15:43 AM  all    7.14    0.05    1.64    0.40    0.00    0.18    0.00    0.00    0.00   90.59
10:15:43 AM    0    6.96    0.04    1.70    0.38    0.00    0.21    0.00    0.00    0.00   90.70
10:15:43 AM    1    7.33    0.06    1.57    0.41    0.00    0.16    0.00    0.00    0.00   90.47
</code></pre>
<p>Next, to get all information, run the command with the following flag:</p>
<pre><code>mpstat -A
</code></pre>
<p>This will display each and every detail of CPU usage.:</p>
<pre><code>Linux 5.10.0-8-amd64 (debian)   07/21/2021      _x86_64_        (2 CPU)

10:18:41 AM  CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
10:18:41 AM  all    6.45    0.04    1.39    0.32    0.00    0.16    0.00    0.00    0.00   91.65
10:18:41 AM    0    6.33    0.04    1.44    0.30    0.00    0.17    0.00    0.00    0.00   91.72
10:18:41 AM    1    6.57    0.05    1.33    0.33    0.00    0.15    0.00    0.00    0.00   91.57

10:18:41 AM NODE    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
10:18:41 AM  all    6.45    0.04    1.39    0.32    0.00    0.16    0.00    0.00    0.00   91.65
10:18:41 AM    0    6.45    0.04    1.39    0.32    0.00    0.16    0.00    0.00    0.00   91.65

10:18:41 AM  CPU    intr/s
10:18:41 AM  all    684.45
10:18:41 AM    0     85.41
10:18:41 AM    1    532.59

10:18:41 AM  CPU        0/s        1/s        8/s        9/s       12/s       14/s       15/s       18/s       19/s       20/s       21/s       22/s      NMI/s      LOC/s      SPU/s      PMI/s      IWI/s      RTR/s      RES/s      CAL/s      TLB/s      TRM/s      THR/s      DFR/s      MCE/s      MCP/s      ERR/s      MIS/s      PIN/s      NPI/s      PIW/s
10:18:41 PM    0       0.03       0.00       0.00       0.00       0.32       0.00       1.16       3.32       0.00       0.00      26.69       0.00       0.00     123.81       0.00       0.00       0.00       0.00       0.69      64.39       2.54       0.00       0.00       0.00       0.00       0.00       0.00       0.01       0.00       0.00       0.00
10:18:41 PM    1       0.00       0.59       0.00       0.00       0.00       0.00       0.00       0.00       0.91       3.29       0.00       0.03       0.00     378.77       0.00       0.00       0.00       0.00       0.68      79.76       3.14       0.00       0.00       0.00       0.00       0.00       0.00       0.00       0.00       0.00       0.00

10:18:41 AM  CPU       HI/s    TIMER/s   NET_TX/s   NET_RX/s    BLOCK/s IRQ_POLL/s  TASKLET/s    SCHED/s  HRTIMER/s      RCU/s
10:18:41 AM    0       0.00      14.51       0.00       0.06      13.04       0.00       0.04      26.58       0.00      31.18
10:18:41 AM    1       0.00     247.50       0.20       0.93      12.66       0.00       0.60     233.72       0.00      36.96
</code></pre>
<p>Finally, to display CPU utilization by a specific processor, run the command with the following flags:</p>
<p>Next, to get all information, run the command with the following flag:</p>
<pre><code>mpstat -P 1
</code></pre>
<p>This will display CPU usage of the 1st processor:</p>
<pre><code>Linux 5.10.0-8-amd64 (debian)   07/21/2021      _x86_64_        (2 CPU)

10:25:23 AM  CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
10:25:23 AM    1    5.89    0.03    1.03    0.24    0.00    0.13    0.00    0.00    0.00   92.68

</code></pre>
<aside class="special"><p> Consult the man-pages for more details about mpstat. Do your own research about the output and how to interpret the results. </p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Monitor the CPU on Windows" duration="0">
        <h2 is-upgraded>Windows Task Manager</h2>
<p>The <strong>Windows Task Manager (Taskmon)</strong> is a system tool found in all versions of Microsoft Windows platform&#39;s. It provides information about running applications, processes, and services, as well as computer performance, network activity, and memory information. There are two views for the Task Manager: Simplified and Advanced.</p>
<p>To use Taskmon, open Start, do a search for <strong>taskman</strong>, and confirm the result.</p>
<p class="image-container"><img alt="Windows Task Manager (advanced view)" src="img/a96f1237b3ba2789.png"></p>
<h2 is-upgraded>Windows Resource Monitor</h2>
<p>The <strong>Windows Resource Monitor (Resmon)</strong> is a system application included in Windows Vista and later versions of Windows that allows users to look at the presence and allocation of resources on a computer.</p>
<p>The Windows Task Manager can best be described as a tool that runs <strong>on</strong> the surface. It lists processes and services, and general resource usage. In contrast, the Resource Monitor gives you the option to look <strong>under</strong> the surface to get more information that the Task Manager does not provide.</p>
<p>The Windows Resource Monitor can be used to determine extensive and detailed information about the current performance and resource consumption in real time. The program is therefore also suitable for error analysis. The view is divided into the following sections:</p>
<ul>
<li>Overview (CPU, disk, network, memory)</li>
<li>CPU</li>
<li>Memory</li>
<li>Disk</li>
<li>Network</li>
</ul>
<p>To use Resmon, open Start, do a search for <strong>resmon</strong>, and confirm the result.</p>
<p class="image-container"><img alt="htop" src="img/b327c367a936cab1.png"></p>
<h2 is-upgraded>Windows Performance Monitor (Perfmon)</h2>
<p>On Windows 10, users can use <strong>Windows Performance Monitor</strong> to analyze data, such as processor, hard drive, memory, and network usage.</p>
<p>To use Permon, open Start, do a search for <strong>perfmon</strong>, and confirm the result.</p>
<p class="image-container"><img alt="Windows Performance Monitor" src="img/6af70eaf4fb5255c.png"></p>
<p>When you open the tool, the main page will show up with a brief overview, a system summary with real-time data about Memory, Network Interface, Physical Disk, and Processor Information. On the keft side, you will find the navigation pane with access to Monitoring Tools, Data Collector Sets, and Reports.<br><br> When you switch to the Performance Monitor, you will see a screen with a single counter. This is typically the <strong>Processor Time</strong> counter, which displays the processor load. <br></p>
<p class="image-container"><img alt="Windows Performance Monitor" src="img/60f00358e8319ef5.png"></p>
<p>However, you can add a lot of other counters to monitor virtually anything on your computer. To add new counters to monitor applications and hardware performance on your computer, do the following steps:</p>
<ul>
<li>Click on the green <strong>Plus</strong> button above the Performance Monitor graph.</li>
<li>Select Local computer (or the name of your computer) from the drop-down menu.</li>
<li>Select and expand the category of the item you want to monitor.</li>
<li>If applicable, select the instances you want to monitor. Click the <strong>Add</strong> button to add the new counters. <br></li>
</ul>
<p class="image-container"><img alt="Windows Performance Monitor" src="img/32bdffaa9a19e184.png"></p>
<ul>
<li>Finally, click on the <strong>OK</strong> button to confirm. Here you are !</li>
</ul>
<p class="image-container"><img alt="Windows Performance Monitor" src="img/e612bf43b9d273c5.png"></p>
<p>The Performance Monitor also includes so-called Data Collectors Sets, which is where you can use existing sets or create custom sets containing performance counters and alerts based on specific criteria.</p>
<p>In this lab, we will use the Data Collectors Set for Hyper-V. You can right-click your Data Collector Set under &#34;User Defined,&#34; and click <strong>Start</strong> to run it.</p>
<p class="image-container"><img alt="Windows Performance Monitor" src="img/9e30a83d7dc4197d.png"></p>
<p>Wait 30 seconds, while <strong>Performance Monitor</strong> is collecting data. Then right-click the Data Collector set for Hyper-V and click on <strong>Stop</strong> to shut it down.</p>
<p class="image-container"><img alt="Windows Performance Monitor" src="img/9aea1ef85fb54b6a.png"></p>
<p>The tools generates Reports for each run. To view these reports, click on the lastest Hyper-V report in the Report section and browse through the statistics.</p>
<p class="image-container"><img alt="Windows Performance Monitor" src="img/a9e5029122493140.png"></p>
<aside class="special"><p> Consult the online documents for more details about this tool. Do your own research about the output and how to interpret the results. </p>
</aside>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/codelab-elements/native-shim.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/prettify.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/codelab-elements.js"></script>
  <script src="//support.google.com/inapp/api.js"></script>

</body>
</html>
